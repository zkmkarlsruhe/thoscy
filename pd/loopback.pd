#N canvas 370 172 957 438 12;
#X msg 52 120 disconnect;
#X msg 688 77 listen 7788;
#X msg 708 115 listen 0;
#X obj 40 223 netsend -u -b;
#X obj 370 175 oscformat /temperature;
#X obj 688 151 netreceive -u -b;
#X obj 688 180 oscparse;
#X obj 688 209 list trim;
#X obj 688 238 route temperature;
#X msg 40 77 connect localhost 7777;
#N canvas 150 175 650 416 (subpatch) 0;
#X array \$0-latency 100 float 2;
#X coords 0 1000 100 0 200 140 1 0 0;
#X restore 39 270 graph;
#X floatatom 370 135 5 0 0 0 - - - 0;
#X obj 370 77 tgl 15 0 empty empty run 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X obj 688 266 t b;
#X floatatom 578 394 5 0 0 0 avg - - 0;
#X floatatom 505 394 5 0 0 0 max - - 0;
#X floatatom 431 394 5 0 0 0 min - - 0;
#N canvas 641 195 667 588 latency 0;
#X obj 382 529 outlet;
#X obj 405 457 outlet;
#X obj 428 381 outlet;
#X obj 45 100 timer;
#X obj 85 454 array set \$0-latency;
#X obj 105 376 f;
#X obj 141 376 + 1;
#X obj 153 410 moses;
#X obj 185 375 array size \$0-latency;
#X msg 230 410 0;
#X obj 382 495 array min \$0-latency;
#X obj 405 421 array max \$0-latency;
#X obj 428 250 array sum \$0-latency;
#X obj 382 211 t b b b;
#X obj 45 35 inlet;
#X obj 165 35 inlet;
#X text 91 34 send;
#X text 215 34 recv;
#X text 84 486 write value to array \, wrap index;
#X text 462 213 output metrics;
#X obj 45 529 outlet;
#X obj 45 166 t f b f b;
#N canvas 63 88 414 247 array 0;
#X obj 59 98 f \$0;
#X msg 59 68 bang;
#X obj 59 37 loadbang;
#X msg 59 131 \; \$1-latency ylabel -0.5 ms 100 500 1000 \; \$1-latency
color 900;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X restore 456 35 pd array setup;
#X obj 165 66 route bang reset;
#X obj 280 128 f \$0;
#X obj 446 311 array size \$0-latency;
#X obj 446 280 loadbang;
#X obj 428 345 / 1;
#X obj 185 346 loadbang;
#X msg 242 161 0;
#X text 276 99 reset array values;
#X msg 280 161 \; \$1-latency const 0;
#X obj 219 100 t b b b;
#X connect 3 0 21 0;
#X connect 5 0 6 0;
#X connect 6 0 5 1;
#X connect 6 0 7 0;
#X connect 7 0 4 1;
#X connect 7 1 9 0;
#X connect 8 0 7 1;
#X connect 9 0 5 1;
#X connect 9 0 4 1;
#X connect 10 0 0 0;
#X connect 11 0 1 0;
#X connect 12 0 27 0;
#X connect 13 0 10 0;
#X connect 13 1 11 0;
#X connect 13 2 12 0;
#X connect 14 0 3 0;
#X connect 15 0 23 0;
#X connect 21 0 20 0;
#X connect 21 1 13 0;
#X connect 21 2 4 0;
#X connect 21 3 5 0;
#X connect 23 0 3 1;
#X connect 23 1 32 0;
#X connect 24 0 31 0;
#X connect 25 0 27 1;
#X connect 26 0 25 0;
#X connect 27 0 2 0;
#X connect 28 0 8 0;
#X connect 29 0 5 1;
#X connect 32 0 13 0;
#X connect 32 1 29 0;
#X connect 32 2 24 0;
#X restore 402 316 pd latency ms;
#X floatatom 362 395 5 0 0 0 cur - - 0;
#X floatatom 465 77 5 0 0 0 ms - - 0;
#N canvas 507 470 363 437 random 0;
#X obj 75 48 inlet;
#X obj 142 48 inlet;
#X obj 75 375 outlet;
#X text 201 47 random drunk walk;
#X obj 75 275 f 21;
#X obj 75 177 t b f;
#X obj 75 308 +;
#X obj 75 113 random 6;
#X obj 75 144 - 3;
#X obj 75 336 t f f;
#X obj 75 82 metro 1000;
#X msg 142 271 21;
#X obj 22 177 sel 1;
#X obj 142 197 moses -20;
#X obj 202 228 moses 40;
#X text 141 172 keep within -20 to 40;
#X connect 0 0 10 0;
#X connect 0 0 12 0;
#X connect 1 0 10 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 5 1 6 1;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 9 0 2 0;
#X connect 9 1 13 0;
#X connect 10 0 7 0;
#X connect 11 0 4 1;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 13 1 14 0;
#X connect 14 0 4 1;
#X connect 14 1 11 0;
#X restore 370 106 pd random temp;
#X obj 370 203 t a b;
#X msg 490 238 reset;
#X text 211 76 <- 1 connect send;
#X text 792 73 <- 2 start receiving;
#X text 516 75 <- 3 start messages;
#X text 628 394 *not accurate until 100+ messages;
#X obj 723 267 print recv<<;
#X obj 536 176 print send>>;
#X text 25 16 loopback pd -> thingsboard -> pd;
#X text 426 16 *very basic* latency measurement \, does not try to
match send/recv values, f 72;
#X text 540 238 clear values;
#X connect 0 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 5 0;
#X connect 4 0 21 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 27 0;
#X connect 8 0 13 0;
#X connect 9 0 3 0;
#X connect 11 0 28 0;
#X connect 11 0 4 0;
#X connect 12 0 20 0;
#X connect 13 0 17 1;
#X connect 17 0 18 0;
#X connect 17 1 16 0;
#X connect 17 2 15 0;
#X connect 17 3 14 0;
#X connect 19 0 20 1;
#X connect 20 0 11 0;
#X connect 21 0 3 0;
#X connect 21 1 17 0;
#X connect 22 0 17 1;
